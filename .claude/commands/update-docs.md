---
description: 'ドキュメントの更新が必要か調査し、必要に応じて更新する'
---

# ドキュメント更新コマンド

このコマンドは、コードの変更に応じてドキュメントを自動的に更新します。

## 実行手順

1. **ドキュメント検証を実行**
   - `npm run validate:docs:update` を実行してコード変更を確認
   - 変更されたファイルのリストを取得

2. **変更内容を分析**
   - mainブランチとの差分を確認: `git diff main...HEAD`
   - または過去の主要な変更を確認: `git diff HEAD~10`（必要に応じて調整）
   - 各ファイルの具体的な変更内容を確認
   - ドキュメント更新が必要な重要な変更を特定

3. **現状のドキュメント構成を把握**
   - `documentation-guidelines.md`の「1.1 ドキュメント構成」を参照

4. **ドキュメント更新が必要な変更の判断基準**
   - `documentation-guidelines.md`の「4. ドキュメント更新ガイド」を参照

5. **ドキュメントを更新**
   - `documentation-guidelines.md`の「4.3 更新方法」を参照

6. **検証**
   - `npm run validate:docs` を実行して検証
   - 更新したドキュメントの diff を確認

7. **結果をユーザーに報告**
   - 更新したドキュメントのリスト
   - 主な変更内容のサマリー
   - コミットすべきファイルの一覧

## 出力形式

最後に以下の形式でサマリーを提示:

```
## 完了しました！

### 📝 更新したドキュメント

#### 1. [ファイル名] (+X行, -Y行)
- 変更内容1
- 変更内容2

### 🔍 調査結果

[主な変更内容の説明]

### 次のステップ

変更内容を確認して、必要に応じてコミットしてください:
`git status`
```

## 注意事項

- CLAUDE.md は重要な設計方針の変更時のみ更新（通常は `docs/` 配下のみ）
- 軽微な変更や内部実装の変更では更新不要
- 型システムやAPI仕様の変更は必ず反映すること
- CODE_REF コメントは最新のコードを参照していることを確認
